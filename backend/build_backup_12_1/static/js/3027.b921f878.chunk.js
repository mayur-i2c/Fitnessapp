"use strict";(self.webpackChunkfitnessapp=self.webpackChunkfitnessapp||[]).push([[3027],{93027:function(A,e,t){t.r(e),t.d(e,{default:function(){return b}});var s=t(74165),r=t(15861),n=t(29439),a=t(47313),o=t(7794),i=t(31387),c=(t(88282),t(24083)),u=t(81171),l=t(46417),d=(0,u.Z)((0,l.jsx)("path",{d:"M4 9h4v11H4zm12 4h4v7h-4zm-6-9h4v16h-4z"}),"BarChart"),m=t(71207),f=t(35192),h=t(58467),y=t(80836),g=t(19641),x=t(47605),p=t(48104),Z=t(85281),w=t(94621),v=t.n(w),S=t(70024),k=t(32266),E=t(1164),b=function(){var A=(0,a.useState)([]),e=(0,n.Z)(A,2),t=e[0],u=e[1],w=(0,a.useState)([]),b=(0,n.Z)(w,2),j=b[0],B=b[1],R=(0,a.useState)(!1),P=(0,n.Z)(R,2),K=P[0],N=P[1],I=(0,h.s0)(),L=(0,E.ec)().userRole;console.log(L);var Q=function(){var A=(0,r.Z)((0,s.Z)().mark((function A(){return(0,s.Z)().wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return N(!0),A.next=3,(0,c.XE)().then((function(A){N(!1),u(A.data.info),B("".concat("http://167.71.227.102:5055","/public/"))})).catch((function(A){A.response.data.isSuccess||(401===A.response.data.status?(i.Am.error(A.response.data.message),N(!1)):console.log(A.response.data,"else"))}));case 3:case"end":return A.stop()}}),A)})));return function(){return A.apply(this,arguments)}}();(0,a.useEffect)((function(){"true"===localStorage.getItem("redirectSuccess")&&(i.Am.success(localStorage.getItem("redirectMessage"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0}),localStorage.removeItem("redirectSuccess")),Q()}),[]);var U=[{name:"image",label:"Profile",options:{customBodyRender:function(A){return A?(0,l.jsx)("img",{src:"".concat("http://167.71.227.102:5055/public/").concat(A),alt:A,style:{height:"50px",width:"50px",borderRadius:"50%"}}):(0,l.jsx)("img",{src:k,alt:A,style:{height:"50px",width:"50px",borderRadius:"50%"}})}}},{name:"name",label:"Name",options:{filter:!0,sort:!0}},{name:"email",label:"Email",options:{filter:!0,sort:!0}},{name:"mo_no",label:"Mobile No",options:{filter:!0,sort:!0}},{name:"status",label:"Status",options:{filter:!0,sort:!1,customBodyRender:function(A,e){var s=e.rowIndex,r=t[s],n=r.status,a=r._id;return(0,l.jsx)(S.Z,{checked:n,onChange:function(){if(1==L){var A={id:a,status:!n};(0,c.OL)(A,a).then((function(){i.Am.success("status changed successfully!",{key:A._id}),Q()})).catch((function(){i.Am.error("something went wrong!",{key:A._id})}))}else i.Am.error("Sorry, you do not have permission to access this feature.Please contact your administrator for assistance.")}})}}},{name:"_id",label:"Action",options:{customBodyRender:function(A){return(0,l.jsxs)("div",{children:[(0,l.jsx)(d,{className:"insightsIcon",onClick:function(){var e=t.find((function(e){return e._id===A})),s=new Date,r=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(s);I("/user/insights",{state:{userdata:e,insightdata:{userid:A,date:r},imageurl:j}})}}),(0,l.jsx)(m.Z,{className:"editIcon",onClick:function(){if(1==L){var e=t.find((function(e){return e._id===A}));I("/user/manage",{state:{editdata:e,imageurl:j}})}else i.Am.error("Sorry, you do not have permission to access this feature.Please contact your administrator for assistance.")}}),(0,l.jsx)(f.Z,{className:"deleteIcon",onClick:(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=L){e.next=7;break}return e.next=3,v()({title:"Are you sure?",text:"Are you sure that you want to delete this user?",icon:"warning",buttons:["No, cancel it!","Yes, I am sure!"],dangerMode:!0});case 3:e.sent&&(0,c.h8)(A).then((function(){i.Am.success("deleted successfully!",{key:A}),Q()})).catch((function(){i.Am.error("something went wrong!",{key:A})})),e.next=8;break;case 7:i.Am.error("Sorry, you do not have permission to access this feature.Please contact your administrator for assistance.");case 8:case"end":return e.stop()}}),e)})))})]})}}}],D=function(){var A=(0,r.Z)((0,s.Z)().mark((function A(e){var r;return(0,s.Z)().wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(1!=L){A.next=8;break}return r=e.data.map((function(A){return t.find((function(e,t){return t===A.dataIndex&&e._id}))._id})),A.next=4,v()({title:"Are you sure?",text:"Are you sure that you want to delete this users?",icon:"warning",buttons:["No, cancel it!","Yes, I am sure!"],dangerMode:!0});case 4:A.sent&&(0,c.AA)(r).then((function(){Q(),i.Am.success("Deleted successfully!",{key:r})})).catch((function(){i.Am.error("Something went wrong!",{key:r})})),A.next=9;break;case 8:i.Am.error("Sorry, you do not have permission to access this feature.Please contact your administrator for assistance.");case 9:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}(),F=function(A){var e=A.selectedRows,t=A.data;return(0,l.jsx)("div",{children:(0,l.jsx)(y.Z,{onClick:function(){return D(e,t)},children:(0,l.jsx)(f.Z,{})})})},J={customToolbarSelect:function(A,e){return(0,l.jsx)(F,{selectedRows:A,data:e,columns:U,datatableTitle:"test"})}};return(0,l.jsx)("div",{children:(0,l.jsx)(g.ZP,{container:!0,spacing:4,children:(0,l.jsxs)(g.ZP,{item:!0,xs:12,children:[(0,l.jsx)(i.Ix,{}),(0,l.jsxs)("div",{className:"text-container",children:[(0,l.jsx)("div",{className:"left-text",children:(0,l.jsx)(x.Z,{variant:"h4",size:"sm",children:"Users"})}),(0,l.jsx)("div",{className:"right-text",children:(0,l.jsx)(p.Z,{variant:"contained",size:"medium",color:"primary",onClick:function(){1==L?I("/user/manage"):i.Am.error("Sorry, you do not have permission to access this feature.Please contact your administrator for assistance.")},children:"Add User"})})]}),K?(0,l.jsx)(g.ZP,{item:!0,xs:12,style:{textAlign:"center"},children:(0,l.jsx)(Z.Z,{size:26,fullWidth:!0})}):(0,l.jsx)(o.ZP,{data:t,columns:U,options:J})]})})})}},32266:function(A){A.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxATEBIQEhIQERESEA0QEBUQDhAQDxIQFREWFhURExMYHSggGBolGxUVITEhJSkrLi4uFx8zODMtNygtLisBCgoKBQUFDgUFDisZExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIAOEA4QMBIgACEQEDEQH/xAAbAAEAAwEBAQEAAAAAAAAAAAAAAwQFAgEGB//EADQQAAIBAQQHBwMEAwEAAAAAAAABAhEDBCExBRJBUWFxkSJSgaGxwdEUMkITI2LhkqLxgv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD9xAAAAAAAAAKdvf4rCPafkBcK9rfILbV8MTMtrxKWbw3ZIiAv2mknsj1dSvK+Wj/KnJJEAA7drJ5yl1ZxUABU6VrJZN9WcgCeN7tF+T8aMnhpF7UnywKIA17K/Qe2j4/JYTMA7sraUcm16dAN0FGw0gnhJU4rIupp4rED0AAAAAAAAAAAAAAAAit7eMVV+C2sjvd6UMM5bt3FmVaTbdW6sCW8XqU+C3L3IAAAAAAAAAAAAAAAAAABLYXiUcstqeREANm7XmM+D2pk5gRbTqsGadzvmt2ZYS8mBcAAAAAAAAAAArXy86iovueXDiyS8WyjGr8OLMa0m223mwPJNt1eLZ4AAAAAAAAAAAAAAAAAAAAAAAAABqXG963Zf3bOP9lwwE6Yo17neNdcVn8gWAAAAAAAp6StqR1VnL0ApXy31pcFgvkgAAAAAAAAAAAksbGUnRL4RoWOj4r7u0+iAy0iRXefdl0ZtRglkkuSodAYju8+7LoRyi1mmuaN88lFPNV5gYANW2uEHl2Xwy6Gfb3eUc1hvWQEQAAAAAAABJYWrjJNePFEYA3oSTSayeJ0Z+jLbOD5r3RoAAAAMS82utJvZs5GnfrSkHveC8THAAAAAAAAAFi6XZze6KzfsiOwsnKSivHgjas4JJJZIBZwSVEqI6AAAAAAAB5KKao8UegDKvl01e0vt9Cob7VcDHvdhqSpseK+AIAAAAAAAAdWc2mmtjqbsJVSa2pMwDU0ZaVjTuvyYFwAAZ2lZ4xjzZQJ79KtpLhReRAAAAAAAAD2MatLe0gNPRtlSOttl6Fw8iqJLcqHoAAAAAAAAAAACvfbLWg96xRYAHz4JLxCkpLi6ciMAAAAAAFvRs6TpvTXiVDuwlSUX/JeoG6AAMK2dZSf8n6nAYAAAAAABNdF248/TEhJrm/3I8/YDaAAAAAAAAAAAAAAABk6RX7j4pMqlrST/c8EVQAAAAAAAANf9cGb+oAImDq1VJNcX6nIAAAAAAOrOVGnuaZyAPoECtcLXWgt6wfsWQAAAAAAAAAAAAEV5tdWLfTmBlXudZyfGnTAhAAAAAAAAAAk1Dw0fpwBSvsaWkudeqIC9pSGKe9U6f8ASiAAAAAAAABPc7fVlweD+TZTPny7cb3Tsyy2Pd/QGmAAAAAAAAAABlaQvGs6LJebJr9e/wAY57X7IzgAAAAAAAAB3YxrKK3tepwWtHQrPkm/YDWAAFbSFnWD3rH5Mg32jDt7PVk47n5bAOAAAAAAAAAABZu18lHDOO7dyNKxvEZZPHc8GYgA+gBiwvU1lJ+OPqSrSM90ejA1QZb0jPdHo/kine7R/lTlgBq2ttGObS9ehnXm/OWEcF5sqNgAAAAAAAAAAABp6Ls6Rct78kZsI1aSzbobtnCiSWxJAdAAAUdJ2NUprZg+RePJKqowMAEt5sdWVNma5EQAAAAS2FhKTwXN7EaFjcIrPtPy6AZaVcseR2rCfdl0ZtxilkkuR6BifTz7sujH08+7LozbAGJ9PPuy6MfTz7sujNsAYn08+7Lox9PPuy6M2wBifTz7sujH08+7LozbAGG7vPuy6M4aazw5m+eSSeePMDABq21wg8uy+GXQz7e7yhnlsayAiAAAA7srNyaitoFvRljV672YLmaRxZQUUkth2AAAAAAQXuw1402rIx5Jp0eazN8p36663aX3LzQGWWLndXN1eEVnx4Ihs41aTdMaOuw3IRSSSyWQCEUlRKiR0AAAAAAAAAAAAAAAAAAPJRTVHij0AZF8uupivtflwZWN+UU1R4pmHbw1ZNVrRgcGtcbtqqr+5+S3EVwun5y/8r3L4AAAAAAAAAAAU75c9btR+7bx/sr3W9uPZlWmXFGoV7zdVPg9/wAgTxkmqrFHpkJ2lk+H+rL93vcZcHufsBYAAAAAAAAAAAAAAAADZDb3mMc3juWZn2ltO0dEsNyy8WBLe77Xsw8X8HVzuX5S8F8kt1uaji8ZeS5FoAAAAAAAAAAAAAAAADmcU1Rqq4lG30ftg/B+zNAAZULzaQwlVrdL2Zbsr/B59l8cupZlFPBpNcUVLXR8XlWPmgLcZJ5NPk6nplu5WkftdeTozz9a2jnreMa+YGqDMWkZbVHzR0tJfx8wNEGc9Jfx8zl6SlsUfNgaZ42Zf1FtLKvhH3CulrL7n/lKoFy1vsFtq+GPmVLS+TlhFU5YvqT2Wjor7m35Itws0sEkuQGfYaPbxm6cFn4sv2dmoqiVEdgAAAAAAAAAAAAAAAAAAAAAAAAAAAK14M21AA8gaF2AAuAAAAAAAAAAAAAAAAAAD//Z"}}]);