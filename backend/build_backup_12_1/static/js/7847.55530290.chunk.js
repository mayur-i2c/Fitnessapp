"use strict";(self.webpackChunkfitnessapp=self.webpackChunkfitnessapp||[]).push([[7847],{86522:function(e,t,n){n(47313);var s=n(8047),a=n(19641),r=n(46417);t.Z=function(e){var t=e.name,n=e.label,i=e.inputRef,o=e.InputProps,c=e.error,l=e.helperText,u=e.xs,d=e.sm,f=e.m,m=e.placeholder,p=e.id,h=e.defaultValue,x=e.readOnly,g=e.disabled,j=e.type,Z=e.onChange;return console.log(j),(0,r.jsx)(a.ZP,{item:!0,xs:u,sm:d,m:f,children:(0,r.jsx)(s.Z,{InputLabelProps:{shrink:!0},type:j||"text",variant:"outlined",margin:"normal",fullWidth:!0,label:n,id:p,name:t,inputRef:i,InputProps:o,error:c,helperText:l,placeholder:m,defaultValue:h,readOnly:x,disabled:g,onChange:Z})})}},77847:function(e,t,n){n.r(t);var s=n(74165),a=n(15861),r=n(29439),i=n(47313),o=n(19641),c=n(47605),l=n(32530),u=n(85281),d=n(48104),f=n(42832),m=n(75627),p=n(24083),h=n(31387),x=(n(88282),n(80472)),g=n(1164),j=n(86522),Z=n(46417);t.default=function(){var e=(0,i.useState)(!1),t=(0,r.Z)(e,2),n=t[0],k=t[1],y=(0,i.useState)(!0),b=(0,r.Z)(y,2),v=b[0],P=b[1],S=(0,i.useState)(!0),_=(0,r.Z)(S,2),w=_[0],C=_[1],I=(0,g.ec)().userRole,T=(0,m.cI)(),F=T.register,V=T.getValues,E=T.setValue,O=T.setError,R=T.handleSubmit,A=T.formState.errors,L=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.w7)().then((function(e){E("fcm_token",e.data.info[0].fcm_token),E("email",e.data.info[0].email),E("password",e.data.info[0].password),C(e.data.info[0]._id),P(!1)})).catch((function(){P(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){L()}),[E,V]);return(0,Z.jsx)(o.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:(0,Z.jsxs)(o.ZP,{item:!0,xs:12,md:6,lg:6,children:[(0,Z.jsxs)(o.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,Z.jsx)(o.ZP,{item:!0,children:(0,Z.jsx)(c.Z,{variant:"h5",children:"General Settings"})}),(0,Z.jsx)(o.ZP,{item:!0})]}),(0,Z.jsx)(x.Z,{sx:{mt:2},content:!1,children:(0,Z.jsx)(f.Z,{spacing:3,children:(0,Z.jsxs)(o.ZP,{xs:12,sx:{p:3},children:[(0,Z.jsx)(h.Ix,{}),(0,Z.jsx)("form",{onSubmit:R((function(e){1==I?(k(!0),(0,p.cL)(e,w).then((function(e){console.log(e.data),e.data.isSuccess&&200===e.data.status?(k(!1),h.Am.success("Updated successfully!")):(e.data.status,e.data.isSuccess||(Object.keys(e.data.message).forEach((function(t){O(t,{type:"manual",message:e.data.message[t]})})),k(!1)))})).catch((function(e){e.response.data.status,e.response.data.isSuccess||Object.keys(e.response.data.message).forEach((function(t){O(t,{type:"manual",message:e.response.data.message[t]})})),k(!1)}))):h.Am.error("Sorry, you do not have permission to access this feature.Please contact your administrator for assistance.")})),children:v?(0,Z.jsx)("p",{children:"Loading..."}):(0,Z.jsxs)("div",{children:[(0,Z.jsx)(l.Z,{mb:2,children:(0,Z.jsx)(c.Z,{color:"#FF0000"})}),(0,Z.jsx)(h.Ix,{}),(0,Z.jsx)(o.ZP,{xs:12,children:(0,Z.jsx)(j.Z,{xs:12,id:"fcm_token",name:"fcm_token",label:"FCM Token",inputRef:F("fcm_token",{required:!0}),error:!!A.fcm_token,helperText:A.fcm_token&&"FCM Token is required",placeholder:"FCM Token",defaultValue:V("fcm_token"),onChange:function(e){return E("fcm_token",e.target.value)}})}),(0,Z.jsx)("div",{children:n?(0,Z.jsx)(o.ZP,{item:!0,xs:12,mt:2,style:{textAlign:"center"},children:(0,Z.jsx)(u.Z,{size:26,fullWidth:!0,style:{"margin-top":"40px",float:"right"}})}):(0,Z.jsx)(d.Z,{type:"submit",variant:"contained",color:"primary",size:"large",style:{"margin-top":"40px",float:"right"},children:"Update"})})]})})]})})})]})})}}}]);